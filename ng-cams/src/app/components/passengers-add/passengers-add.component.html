<mat-tab-group [selectedIndex]="selected.value"
               (selectedIndexChange)="changeTab($event)">
  <mat-tab *ngFor="let p of participants; let index = index" [label]="p.model">
    <div *ngFor="let passenger of passengersForSelectedParticipant()" class="passengers">
      <h4>
        <button mat-icon-button (click)="openPassengerDialog(passenger)">
          <mat-icon>person</mat-icon>
        </button>
      </h4>
      <h4>{{passenger.passenger.firstName}} {{passenger.passenger.lastName}}</h4>
      <h4 *ngIf="passenger.passenger.dateOfBirth">{{passenger.passenger.dateOfBirth.toLocaleString()}}</h4>
      <h4>{{this.passenger.injuredLevel}}</h4>
      <h4> <mat-icon>clear</mat-icon></h4>
    </div>

    <button mat-icon-button (click)="openPassengerDialog(null)" [matTooltip]="'Add passenger'">
      <mat-icon>add_circle_outline</mat-icon>
    </button>
  </mat-tab>
</mat-tab-group>

<mat-action-row>
  <button mat-button color="warn" (click)="prevStep()">Previous</button>
  <button mat-button color="primary" (click)="savePassengers()">Finish</button>
</mat-action-row>
